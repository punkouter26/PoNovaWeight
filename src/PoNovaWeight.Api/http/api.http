### PoNovaWeight API Testing
### Base URL (Development)
@baseUrl = https://localhost:5001

### =====================
### Authentication
### =====================

### Dev Login (Development only - bypasses OAuth)
### Creates a cookie-based session without Google OAuth
POST {{baseUrl}}/api/auth/dev-login?email=dev-user@local

### Get Current User (check auth status)
GET {{baseUrl}}/api/auth/me

### =====================
### Health & Diagnostics
### =====================

### Health Check
GET {{baseUrl}}/api/health

### Aspire Health Check
GET {{baseUrl}}/health

### OpenAPI Spec
GET {{baseUrl}}/openapi/v1.json

### =====================
### Daily Logs
### =====================

### Get Daily Log
GET {{baseUrl}}/api/daily-logs/2025-01-01

### Upsert Daily Log
PUT {{baseUrl}}/api/daily-logs
Content-Type: application/json

{
  "date": "2025-01-01",
  "proteins": 10,
  "vegetables": 3,
  "fruits": 1,
  "starches": 1,
  "fats": 2,
  "dairy": 1,
  "waterSegments": 4,
  "weight": 175.5,
  "omadCompliant": true,
  "alcoholConsumed": false
}

### Increment Unit (Protein +1)
POST {{baseUrl}}/api/daily-logs/increment
Content-Type: application/json

{
  "date": "2025-01-01",
  "category": 0,
  "delta": 1
}

### Update Water Segments
POST {{baseUrl}}/api/daily-logs/water
Content-Type: application/json

{
  "date": "2025-01-01",
  "segments": 5
}

### Get Weekly Summary
GET {{baseUrl}}/api/weekly-summary/2025-01-01

### =====================
### OMAD & Weight Tracking
### =====================

### Get Monthly Logs (Calendar View)
GET {{baseUrl}}/api/daily-logs/monthly/2025/1

### Get OMAD Streak
GET {{baseUrl}}/api/daily-logs/streak

### Get Weight Trends (last 30 days)
GET {{baseUrl}}/api/daily-logs/trends?days=30

### Get Alcohol Correlation (last 90 days)
GET {{baseUrl}}/api/daily-logs/alcohol-correlation?days=90

### Delete Daily Log
DELETE {{baseUrl}}/api/daily-logs/2025-01-01

### Scan Meal (requires Azure OpenAI configured)
POST {{baseUrl}}/api/meal-scan
Content-Type: application/json

{
  "base64Image": "<base64-encoded-image>",
  "targetDate": "2025-01-01"
}
