@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation
@inject IConfiguration Configuration

@code {
    protected override void OnInitialized()
    {
        var googleClientId = Configuration["Google:ClientId"];
        var isDevMode = string.IsNullOrEmpty(googleClientId) || googleClientId == "YOUR_GOOGLE_CLIENT_ID";
        
        if (isDevMode)
        {
            // Dev mode - go to simple login page
            var returnUrl = Uri.EscapeDataString(Navigation.Uri);
            Navigation.NavigateTo($"/login?returnUrl={returnUrl}", replace: true);
        }
        else
        {
            // Production - use OIDC login flow
            Navigation.NavigateToLogin("authentication/login");
        }
    }
}
